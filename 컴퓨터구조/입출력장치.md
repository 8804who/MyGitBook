### 장치 컨트롤러
- CPU와 입출력 장치가 정보를 주고 받을 수 있게 해주는 장치
- 오류 검출
- 데이터 버퍼링
  - 전송률이 높은 장치와 낮은 장치 사이에 주고받는 데이터를 버퍼라는 임시 저장 공간에 저장해 전송률을 비슷하게 맞추는 방법
- CPU와 입출력장치 간에 정보를 주고받기 힘든 이유
  - 입출력장치는 너무나 다양한 종류가 있음
  - 일반적으로 CPU와 메모리의 데이터 전송률은 높지만 입출력 장치의 데이터 전송률은 낮음
- 장치 컨트롤러는 입출력 장치와 버스에 연결되어 입력받은 신호를 버스로 전송
- 장치 컨트롤러의 구조
  - 데이터 레지스터
    - CPU와 입출력 장치 사이에 주고받을 데이터가 담기는 레지스터(버퍼)
    - RAM을 사용하기도 함
  - 상태 레지스터
    - 상태 정보 저장
    - 입출력 작업 준비 여부
    - 입출력 작업 완료 여부
    - 입출력 장치 오류 등 상태 정보
  - 제어 레지스터
    - 입출력장치가 수행할 작업에 대한 제어 정보

### 장치 드라이브
- 장치 컨트롤러의 동작을 감지하고 제어하는 프로그램
- 장치 컨트롤러가 컴퓨터 내부와 정보를 주고 받을 수 있도록 해줌
- 장치 컨트롤러는 하드웨어적인 통로이고 장치 드라이버는 소프트웨어적인 통로

### 입출력 방식
- 프로그램 입출력
  - 프로그램의 명령어로 입출력장치 제어
  - CPU가 장치 컨트롤러의 레지스터 값을 읽고 씀으로서 입출력 수행
  - 프로그램 입출력의 대표적인 방식에는 메모리 맵 입출력 방식과 고립형 입출력 방식이 존재
  - 메모리 맵 입출력
    - 메모리와 입출력장치가 같은 주소 공간 사용
    - 메모리 주소 공간이 축소됨(입출력장치가 함께 사용하므로)
    - 메모리와 입출력 장치에 같은 명령어 사용 가능
  - 고립형 입출력
    - 메모리와 입출력 장치가 분리된 주소 공간 사용
    - 메모리 주소 공간이 축소되지 않음
    - 입출력 전용 명령어 사용
- 인터럽트 기반 입출력
  - 하드웨어 인터럽트는 장치 컨트롤러에서 발생
  - 장치 컨트롤러가 입출력 명령을 받고 작업이 끝났을 때 인터럽트를 발생시켜 CPU에 알림
  - 동시다발적 인터럽트 처리
    - 입출력 장치가 많으면 인터럽트가 동시다발적으로 발생
    - 순차적 처리
      - 현실적으로 불가
      - 우선순위가 높은 인터럽트 존재
    - 우선순위에 따른 처리
      - 우선순위가 높은 인터럽트부터 처리
    - PIC(Programmable Interrupt Controller)
      - 여러 장치 컨트롤러에 연결
      - 인터럽트 우선순위 판단
      - 지금 처리해야할 인터럽트를 판단하는 하드웨어
     
- DMA(Direct Memory Access) 입출력
  - CPU를 거치지 않고 입출력 장치가 메모리에 직접 접근
  - 입출력 과정
    1. CPU가 DMA 컨트롤러에 입출력 작업 명령
    2. DMA 컨트롤러가 CPU 대신 장치 컨트롤러와 상호 작용하며 작업 수행
    3. 작업이 끝나면 DMA 컨트롤러가 인터럽트를 통해 CPU에 작업 종료 알림
  - DMA 컨트롤러의 시스템 버스 사용 방식
    - CPU가 시스템 버스를 이용하지 않을 때마다 조금씩 사용
    - CPU가 일시적으로 시스템 버스를 사용하지 않도록 요청하고 시스템 버스 이용 
  - 입출력 버스
    - 수많은 장치 컨트롤러가 시스템 버스에 직접 연결되어 있을 경우 메모리-DMA 컨트롤러-장치 컨트롤러 순으로 시스템 버스를 2번씩 이용
    - 장치 컨트롤러를 입출력 버스에 연결
    - 시스템 버스-DMA 컨트롤러-입출력 버스로 연결
    - DMA가 입출력 시스템 버스를 오래 점유하는 것을 방지
    - 입출력 버스를 통해 시스템 버스의 이용 빈도를 낮춤