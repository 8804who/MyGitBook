### 라우팅 테이블
- 라우팅: 패킷이 이동할 최적의 경로를 결정하는 행위
- 특정 수신지까지 도달하기 위한 정보를 명시한 테이블
- 라우터는 라우팅 테이블을 참고해 수신지까지의 경로를 판단
- 라우팅 테이블에 포함되는 정보
  - 수신지 IP 주소와 서브넷 마스크
    - 최종적으로 패킷을 전달할 대상
- 다음 홉
    - 최종 수신지까지 가기 위해 다음으로 거쳐야 할 호스트의 IP 주소나 인터페이스
    - 게이트웨이라고도 함
  - 네트워크 인터페이스
    - 패킷을 내보낼 통로
    - 인터페이스 이름이 명시되거나 인터페이스에 대응하는 IP 주소 명시
  - 메트릭
    - 해당 경로로 이동하는 데 드는 비용
    - 라우팅 테이블의 여러 경로 중 메트릭이 낮은 경로 선호
  - 디폴트 라우트
    - 라우팅 테이블에 경로가 없으면 기본적으로 패킷을 내보낼 경로
    - "모든 IP  주소"를 의미하는 **0.0.0.0/0**로 명시
    - 일반적으로 기본 게이트웨이 주소는 디폴트 라우트와 동일

### 라우팅의 분류
- 정적 라우팅
  - 수동으로 구성된 라우팅 테이블 항목을 통해 수행되는 라우팅
  - 사용자가 수동으로 직접 채워 넣은 라우팅 테이블의 항목을 토대로 라우팅
- 동적 라우팅
  - 자동으로 라우팅 테이블 항목을 만들고, 이를 이용하여 라우팅
  - 네트워크 규모가 커지고 관리해야 할 라우터가 늘어나면 정적 라우팅만으로는 관리가 힘듦
  - 자동으로 라우팅 테이블 항목을 만들고, 이를 이용하여 라우팅
  - 라우팅 프로토콜을 이용하여 라우팅
  - 라우팅 테이블 항목 수시로 변경 가능
    - 항목을 수동으로 입력할 필요 없음
    - 네트워크 경로 상 문제 발생 시 경로가 자동으로 갱신
- AS
  - 한 회사나 단체에서 관리하는 라우터 집단
  - AS마다 고유한 AS 번호 할당
  - 한 AS 내에는 다수의 라우터 존재
  - 라우터는 AS 내부에서 통신할 수도 있고, AS 외부와 통신할 수도 있음
- 라우팅 프로토콜
  - 라우터끼리 자신들의 정보를 교환하며 패킷의 최적 이동 경로를 찾는 프로토콜
  - IGP(Interior Gateway Protocol)
    - AS 내부에서 수행
    - RIP
      - 거리 벡터를 사용해서 최적 경로 선정
      - 거리: 패킷이 경유한 라우터의 수 = 홉의 수
      - 특정 수신지까지의 홉 수가 가장 적은 경로를 최적 경로로 판단
      - 주기적으로 인접 라우터끼리 경로 정보 교환, 라우팅 테이블 갱신, 특정 수신지까지의 홉 수 계산
    - OSPF
      - 링크 상태를 이용해 최적 경로 선정
      - 현재 네트워크 상태를 그래프 형태로 저장하고 최적 경로 선택
  - EGP(Exterior Gateway Protocol)
    - AS 외부에서 수행
    - BGP
      - 피어링: 다른 AS와의 BGP 연결 유지를 위해 BGP 라우터끼리 피어가 되도록 연결되는 과정
      - BGP는 RIP와 OSPF에 비해 경로 결정 과정이 복잡하고 일정하지 않은 경우가 많음
      - AS들의 다양한 속성과 정책이 고려되야하므로 복잡