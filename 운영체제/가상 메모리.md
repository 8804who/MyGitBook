### 연속 메모리 할당
- 프로세스에 연속적인 메모리 공간 할당
- 스와핑
  - 현재 사용되지 않는 프로세스들을 보조 기억 장치의 일부 영역(스왑 영역)으로 쫓아냄
  - 그렇게 생긴 빈 공간에 새 프로세스 적재
  - 프로세스들이 요구하는 메모리 공간 크기가 실제 메모리크기보다 커도 실행 가능
- 메모리 할당 방식
  - 프로세스는 실행되기 위해 메모리의 빈 공간에 할당되어야 함
  - 최초 적합
    - 메모리의 빈 공간을 순서대로 검색하다 적재할 수 있는 공간을 발견하면 그 공간에 프로세스 배치
    - 검색 최소화
    - 빠른 할당
  - 최적 적합
    - 운영체제가 빈 공간을 모두 검색한 뒤, 적재 가능한 가장 작은 공간에 할당
  - 최악 적합
    - 운영체제가 빈 공간을 모두 검색한 뒤, 적재 가능한 가장 큰 공간에 할당
- 외부 단편화
  - 프로세스를 연속적으로 메모리에 할당하는 방식은 메모리를 효율적으로 사용하는 방법이 아님
  - 프로세스들이 실행되고 종료되길 반복하며 메모리 사이 사이 빈 공간 발생
  - 프로세스를 할당하기 어려울 만큼 작은 메모리 공간들이 생겨 메모리가 낭비되는 현상
  - 해결 방법
    - 메모리 압축: 프로세스를 적당히 재배치시켜 흩어져 있는 작은 빈 공간들을 하나의 큰 빈 공간으로 만드는 방법
    - 페이징, 가상 메모리

### 페이징
- 프로세스의 논리 주소 공간을 페이지라는 일정 단위로 자름
- 메모리의 물리 주소 공간을 프레임이라는 페이지와 동일한 일정한 단위로 자름
- 페이지를 프레임에 할당하는 가상 메모리 관리 기법
- 페이징에서의 스와핑
  - 프로세스 단위의 스왑 인, 스왑 아웃이 아닌 페이지 단위의 스왑 인(페이지 인), 스왑 아웃(페이지 아웃)
  - 메모리에 적재될 필요가 없는 페이지들을 보조 기억 장치로 스왑 아웃
  - 실행에 필요한 페이지들은 메모리로 스왑 인
- 페이지 테이블
  - 프로세스를 이루는 페이지가 어느 프레임에 적재되어 있는지 CPU가 모두 파악하기는 힘듦
  - 프로세스가 메모리에 불연속적으로 배치되어 있으면 CPU 입장에서 이를 순차적으로 실행할 수 없음
  - CPU 입장에서 다음에 실행할 명령어의 위치를 찾기 어려워짐
  - 따라서 페이지 테이블을 사용
  - 페이지 테이블은 물리 주소에 불연속적으로 배치되더라도 논리 주소에는 연속적으로 배치되도록 하는 방법으로 페이지 번호와 프레임 번호를 짝지어주는 일종의 이정표
  - 프로세스마다 페이지 테이블 존재
  - 물리적으로는 분산되어 저장되어있지만 CPU 입장에서 바라보는 논리 주소는 연속적이므로 그냥 논리 주소를 순차적으로 실행하면 됨
- 내부 단편화
  - 하나의 페이지 내에 페이지 크기보다 작은 프로세스가 적재되는 경우
  - 해당 페이지 내의 여유 공간은 낭비되는 공간
- 프로세스 테이블 베이스 레지스터(PTBR)
  - 프로세스마다 페이지 테이블이 있고 각 페이지 테이블은 CPU 내의 프로세스 테이블 베이스 레지스터(PTBR)가 가리킴
  - 페이지 테이블이 메모리에 있으면 페이지 테이블 참조, 페이지 참조 총 2번의 메모리 접근이 필요
- TLB
  - CPU 곁에 페이지 테이블의 캐시 메모리
  - 페이지 테이블의 일부를 가져와 저장
  - CPU가 접근하려는 논리 주소가 TLB에 있으면 TLB 히트(메모리 접근 한 번)
  - CPU가 접근하려는 논리 주소가 TLB에 없으면 TLB 미스(메모리 접근 두 번)
- 페이징에서의 주소 변환
  - 특정 주소에 접근하기 위해 필요한 정보는 접근할 페이지 or 프레임과 접근하려는 주소가 해당 요소의 거리
  - 페이징 시스템에서 논리 주소는 페이지 번호와 변위로 이루어짐
  - 페이지 번호는 접근할 페이지 번호이고 변위는 접근하려는 주소와 해당 페이지 번호의 페이지와의 거리
  - [페이지 번호, 변위]로 이루어진 논리 주소는 페이지 테이블을 통해 [프레임 번호, 변위]로 변환
- 페이지 테이블 엔트리(PTE)
  - 페이지 테이블의 각각의 행
  - 테이블 정보 종류
    - 페이지 번호
    - 프레임 번호
    - 유효 비트
      - 현재 해당 페이지에 접근 가능한지 여부
      - 유효 비트가 0인 페이지에 접근 시 페이지 폴트 발생
    - 보호 비트
      - 페이지 보호 기능을 위해 존재하는 비트
      - 페이지에 접근할 권한을 제한하여 보호
    - 수정 비트
      - CPU가 이 페이지에 데이터를 쓴 적이 있는지 여부를 표시
      - 수정된 페이지는 스왑 아웃될 때 보조 기억 장치에도 쓰기 작업을 거쳐야 함