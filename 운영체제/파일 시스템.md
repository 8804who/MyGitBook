### 파일 시스템
- 파일과 디렉터리를 관리하는 운영체제 내의 프로그램
- 파일
  - 의미 있고 관련 있는 정보를 모은 논리적 단위
  - 보조 기억 장치에 저장된 관련 정보의 지합
  - 파일의 속성
    - 파일을 이루는 정보
    - 유형: 운영체제가 인지하는 파일의 종류(확장자)
    - 크기: 파일의 현재 크기와 허용 가능한 최대 크기
    - 보호: 어떤 사용자가 해당 파일에 대한 권한을 갖는지
    - 생성 날짜: 파일의 생성 날짜
    - 마지막 접근 날짜: 마지막으로 접근한 날짜
    - 마지막 수정 날짜: 마지막으로 수정한 날짜
    - 생성자: 파일을 생성한 사용자
    - 소유자: 파일을 소유한 사용자
    - 위치: 파일의 현재 위치
- 디렉터리
  - 윈도우에서는 폴더라고도 함
  - 여러 계층으로 파일과 폴더를 관리하는 형태를 **트리 구조 디렉터리**라고 함
- 경로
  - 디렉터리를 이용해 파일/디렉터리의 위치 이름을 특정 지을 수 있는 정보
  - 절대 경로: 루트 디렉터리에서 자기 자신까지 이르는 고유한 경로
  - 상대 경로: 현재 디렉터리에서 자기 자신까지 이르는 경로
- 디렉터리 엔트리
  - 많은 운영체제에서 디렉터리를 '특별한 형태의 파일로' 간주
  - 디렉터리는 '포함된 정보가 조금 특별한 파일'
  - 파일의 내부에는 파일과 관련된 정보들이 있다면 디렉터리 내부에는 해당 디렉터리에 담긴 대상과 관련된 정보들이 있음
  - 이런 정보들을 표형태로 나타낸 것이 디렉터리 엔트리
  - 각 엔트리(행)에 담기는 정보
    - 디렉터리에 포함된 대상의 이름
    - 대상이 보조 기억 장치 내에 저장된 위치(를 유추할 수 있는 정보)
    - 파일 속성을 명시하는 경우도 존재

### 파티셔닝과 포매팅
- 한 번도 사용된 적 없는 새 보조 기억 장치는 파티션이과 포매팅을 하지 않으면 사용 불가
- 파티셔닝
  - 저장 장치의 논리적인 영역을 구획하는 작업
- 포매팅
  - 파일 시스템을 설정
  - 어떤 방식으로 파일을 관리할지 결정, 새로운 데이터를 쓸 준비하는 작업
  - 파일 시스템에는 여러 종류가 있고 파티션마다 다른 파일 시스템 설정도 가능

### 파일 할당 방법
- 포매팅까지 끝난 보조 기억 장치는 사용 가능
- 운영체제는 파일/디렉터리를 블록 단위로 읽고 씀
- 하나의 파일이 저장될 때는 여러 블록에 걸쳐 저장
- 연속 할당
  - 보조 기억 장치 내 연속적인 블록에 파일 할당
  - 디렉터리 엔트리는 파일 이름 & 첫 번째 블록 주소 & 블록 단위 길이를 명시
  - 구현이 단순하지만 외부 단편화 야기
- 불연속 할당
  - 연결 할당
    - 각 블록의 일부에 다음 블록의 주소를 저장하여 각 블록이 다음 블록을 가리키는 형태로 할당
    - 파일을 이루는 데이터 블록을 연결 리스트로 관리
    - 파일이 여러 블록에 흩어져 저장되어도 무방
    - 디렉터리 엔트리는 파일 이름 & 첫번째 블록 주소 & 블록 단위의 길이(연결된 블록의 개수)를 명시
  - 색인 할당
    - 파일의 모든 블록 주소를 색인 블록이라는 하나의 블록에 모아서 관리하는 방식
    - 파일 내 임의의 위치에 접근하기 용이
    - 디렉터리 엔트리는 파일 이름 & 색인 블록 주소를 명시

### FAT 파일 시스템
- 연결 할당 기반 파일 시스템
- 연결 할당의 단점을 보완
- 각 블록에 포함된 다음 블록 주소를 한데모아 테이블(FAT; File Allocation Table)로 관리
- 디렉터리 엔트리는 파일 이름, 확장자, 속성, 예약영역, 생성 시간, 마지막 접근 시간, 마짐가 수정 시간, 시작 블록, 파일 크기 명시

### 유닉스 파일 시스템
- 색인 할당 기반 파일 시스템
- i-node
  - 유닉스 파일 시스템에서 사용하는 색인 블록
  - 유닉스 파일 시스템의 핵심
  - 파일의 속성 정보와 15개의 블록 주소 저장 가능
- 유닉스 파일에서 큰 파일을 저장하는 방법
  - 블록 주소 중 12개는 직접 블록 주소(파일 데이터가 저장된 블록) 저장
  - 위 과정으로 충분하지 않을 경우 13번째 주소에 단일 간접 블록 주소(파일 데이터를 저장한 블록 주소가 저장된 블록) 저장
  - 위 과정도 충분하지 않을 경우 14번째 주소에 이중 간접 블록 주소(단일 간접 블록들의 주소를 저장하는 블록) 저장
  - 모든 과정을 거쳐도 충분하지 않을 경우 15번째 주소에 삼중 간접 블록 주소(이중 간접 블록들의 주소를 저장하는 블록) 저장
- 디렉터리 엔트리는 i-node 번호와 파일 이름 명시